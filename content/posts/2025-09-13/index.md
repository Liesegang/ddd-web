---
title: "初めての半導体設計・製造体験！ISHI会インバータ回路ハンズオン参加レポート"
date: 2025-09-14T00:00:00+09:00
draft: false
toc: true
images:
thumbnailImage: "klayout.png"
tags:
  - 半導体
  - IC設計
  - インバータ
  - ISHI会
  - OpenMPW
  - EDA
  - 論理回路
---

## はじめに

2025年9月13日、[ISHI会主催の「初めての半導体設計・製造体験！一日で作るインバータ回路ハンズオン」](https://ishikai.connpass.com/event/363093/)に参加ました。このイベントは、半導体設計初心者でも一日で回路設計から、シミュレーション、レイアウトまでを体験できる貴重な機会でした。

## ISHI会とOpenMPWについて

ISHI会（Inter-linked Society on Homemade IC Kai）は、半導体のオープンソースムーブメントを推進するコミュニティです。GoogleがEfabless社に出資して生まれたOpenMPW（Open Multi Project Wafer）プログラムを活用し、従来は専門家だけが利用可能だった半導体製造を誰もが体験できる環境を提供しています。

## インバータ回路とは

今回設計したのは、デジタル回路の基本要素であるインバータ（NOTゲート）です。入力信号を反転させる最もシンプルな論理回路で、半導体設計における「Hello World」的な存在です。

## 実際の設計体験

### 環境構築

まずはオープンソースのEDAツール環境をセットアップ。コンパイルとインストールを自動で行ってくれるスクリプトをあらかじめ用意してくださっています。うまく行けば、それを実行するだけで終わります。

MACでのコンパイルはバージョンのコンパティビリティの問題から難易度が高く、結局windowsのWSL2上のUbuntu内に環境を構築しました。

### 回路設計

{{< img800x src="xschem.png" alt="xschemeで書いたインバータの回路図" width="600" >}}

シンプルなインバータ回路です。CMOSの基礎になる要素です。xschemを使用して回路を書きました。

### シミュレーション

設計した回路の動作確認をngspiceを使用して実施しました。2つの異なるシミュレーションを行い、回路の性能を詳細に評価しました。

#### 1. 回路の動作確認（DC解析）

インバータ回路が正しく機能するかを確認するため、入出力特性を解析しました。具体的には以下を確認しました。

- 入力が高電圧（VDD、論理1）のときに出力が低電圧（VSS、論理0）になることを確認
- 入力が低電圧（VSS、論理0）のときに出力が高電圧（VDD、論理1）になることを確認
- 電流量を確認

#### 2. 過渡状態の確認（Transient解析）

コンデンサを擬似的な負荷として追加して、回路が入力信号の変化にどのように応答するかを時間的に解析しました。

- 立ち上がり時間（Rise Time）
- 立ち下がり時間（Fall Time）
- 遅延時間（Propagation Delay）

### レイアウト設計

{{< img800x src="klayout.png" alt="xschemeで書いたインバータの回路図" width="600" >}}

klayoutを用いて行いました。

**最も印象的だったのがこの工程でした**。事前には回路図からレイアウトがある程度自動生成されると期待していましたが、実際には以下のような工程が必要でした。

- 各トランジスタを手動で配置
- 一つ一つの配線を手動で接続
- DRC（Design Rule Check）をクリアするための調整

## 成果物

イベントの成果として以下のファイルを作成しました：

- **my_inv_gate.sch**: 回路図ファイル
- **my_inv_gate.gds**: レイアウトファイル（GDSII形式）

これらのファイルは[GitHubリポジトリ](https://github.com/Liesegang/my-inverter)で公開しています。

## 学んだこと・感じたこと

### 半導体設計は手動部分が多い

有償ソフトではないためかもしれませんが、設計するうえで手動で行わなければならない工程が多いと感じました。
PCB設計では、レイアウト段階でフットプリントが自動選択され、また、配線のガイドが表示されるため、配置と配線に集中できます。しかし半導体設計では、レイアウト段階でもより多くの物理的考慮事項がありました。

### 設計の奥深さ

シンプルなインバータ回路でしたが、実際には多くの工程があり、思ったよりも考えることが多い体験でした。

### 今後への興味

この体験を通じて以下への興味が湧きました：

- 最新の商用EDAツールではどの程度まで自動化が進んでいるのか
- Verilogから論理合成された大規模回路のレイアウト手法
- 8bit CPUといった複雑な回路の設計
- アナログ回路で使用するキャパシタ、抵抗、インダクタなどの受動素子の設計

## まとめ

このワークショップを通じて半導体設計の奥深さと面白さを実感しました。オープンソースの力によって、従来は専門家だけのものだった半導体設計が身近になったことは素晴らしいことです。

半年後にはOpenMPWプログラムを通じて実際のチップが完成し、測定会も開催される予定です。自分が設計した回路がどのくらいシミュレーションに忠実に動作するのか、今から非常に楽しみです。

もしこの記事を読んで「自分も半導体設計に挑戦してみたい！」と思った方は、ぜひ次回のISHI会ワークショップや勉強会に参加してみてください。初心者でも歓迎されており、実際に手を動かしながら学べる貴重な機会です。質問や相談も気軽にできる雰囲気で、誰でも挫折せずに半導体の設計を楽しく体験で切ると思います。


## 関連リンク

- [ISHI会イベントページ](https://ishikai.connpass.com/event/363093/)
- [ISHI会公式サイト](https://ishikai.connpass.com/)
- [設計ファイル（GitHubリポジトリ）](https://github.com/Liesegang/my-inverter)
